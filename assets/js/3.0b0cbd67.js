(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{242:function(t,e,a){"use strict";a.r(e);var r=a(0),s=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"hibernate操作mysql时抛出lock-wait-timeout-exceeded-try-restarting-transaction异常"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hibernate操作mysql时抛出lock-wait-timeout-exceeded-try-restarting-transaction异常","aria-hidden":"true"}},[t._v("#")]),t._v(" hibernate操作mysql时抛出Lock wait timeout exceeded; try restarting transaction异常")]),t._v(" "),a("h3",{attrs:{id:"lock-wait-timeout-exceeded-try-restarting-transaction是锁等待超时。是当前事务在等待其它事务释放锁资源造成的。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lock-wait-timeout-exceeded-try-restarting-transaction是锁等待超时。是当前事务在等待其它事务释放锁资源造成的。","aria-hidden":"true"}},[t._v("#")]),t._v(" Lock wait timeout exceeded; try restarting transaction是锁等待超时。是当前事务在等待其它事务释放锁资源造成的。")]),t._v(" "),a("h3",{attrs:{id:"解决方法："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方法：","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决方法：")]),t._v(" "),a("ol",[a("li",[t._v("在mysql查询中执行以下指令")])]),t._v(" "),a("div",{staticClass:"language-mysql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("select * from information_schema.innodb_trx\n")])])]),a("p",[t._v("2.结果如图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://psx66r0l1.bkt.clouddn.com/lock.png",alt:"查询结果"}})]),t._v(" "),a("p",[t._v("3.找出与其他几个有参数不同的线程，找出他的线程号mysql_thread_id")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("执行命令kill +线程号即可解决。\n")])])]),a("p",[a("em",[a("strong",[t._v("我报这个错的原因是因为用hibernate执行了delete操作，却一直没有commit事务，后面再执行delete操作时就会抛这个异常。就是事务在等待给某个表加锁时超时，估计是表正被另的进程锁住一直没有释放。")])])])])}],!1,null,null,null);e.default=s.exports}}]);